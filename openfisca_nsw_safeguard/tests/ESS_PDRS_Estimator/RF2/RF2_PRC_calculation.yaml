- name: test RF2 baseline input power
  period: 2022
  absolute_error_margin: 0.1
  input: 
    RF2_total_energy_consumption:
      [
        29.86, #De Rigo Clio 3P
        9.7,   #EPTA Captur 100 BT
        16.17  #SKOPE TMF1000N-A
      ]
    RF2_af:
      [
        1,
        1,
        1
      ]
    RF2_baseline_EEI:
      [
        77,
        77,
        100
      ]
    RF2_product_EEI:
      [
        50,
        55,
        63.474
      ]
  output:
    RF2_baseline_input_power:
      [
        1.911,
        0.56,
        1.061
      ]

- name: test RF2 baseline peak adjustment factor
  period: 2022
  absolute_error_margin: 0.1
  input: 
    RF2_product_type:
      [
        is_integral_RDC, #De Rigo Clio 3P
        is_integral_RDC  #EPTA Captur 100 BT
      ]
    RF2_duty_class:
      [
        normal_duty,
        normal_duty
      ]
  output:
    RF2_baseline_peak_adjustment_factor:
      [
        1.14,
        1.14
      ]

- name: test RF2 peak demand savings capacity
  period: 2022
  absolute_error_margin: 0.1
  input:
    RF2_baseline_peak_adjustment_factor:
      [
        1.14,  #De Rigo Clio 3P
        1.14,  #EPTA Captur 100 BT
        1.14   #SKOPE TMF1000N-A
      ]
    RF2_baseline_input_power:
      [
        1.911,
        0.56,
        1.061
      ]
    RF2_input_power:
      [
        1.24,
        0.4,
        0.67375
      ]
  output:
    RF2_peak_demand_savings_capacity:
      [
        0.77,
        0.1824,
        0.441
      ]

- name: test RF2 peak demand reduction capacity
  period: 2022
  absolute_error_margin: 0.1
  input:
    RF2_peak_demand_savings_capacity:
      [
        0.77,   #De Rigo Clio 3P
        0.1824, #EPTA Captur 100 BT
        0.441   #SKOPE TMF1000N-A
      ]
    RF2_lifetime_by_rc_class:
      [
        8,
        8,
        8
      ]
  output: 
    RF2_peak_demand_reduction_capacity:
      [
        36.96,
        8.7552,
        21.168
      ]

- name: test RF2 PRC calculation
  period: 2022
  absolute_error_margin: 0.1
  input:
    RF2_peak_demand_reduction_capacity:
      [
        36.96,  #De Rigo Clio 3P
        8.7552, #EPTA Captur 100 BT
        21.169  #SKOPE TMF1000N-A
      ]
    RF2_network_loss_factor:
      [
        1.05,
        1.04,
        1.05
      ]
  output:
    RF2_PRC_calculation:
      [
        388,
        91,
        222.26
      ]

- name: test RF2 PRC not eligible on new installation
  period: 2022
  absolute_error_margin: 0.1
  input: 
    RF2_peak_demand_reduction_capacity:
      [
        100,
        100
      ]
    RF2_network_loss_factor:
      [
        1.05,
        1.05
      ]
    RF2_replacement_activity:
      [
        True,  #activity is a replacement
        False  #activity is a new installation
      ]
  output:
    RF2_PRC_calculation:
      [
        1050,
        0
      ]